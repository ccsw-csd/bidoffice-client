<p-tabView>
  <p-tabPanel header="Estado">
    <div class="p-fluid">
      <span class="">La oferta se encuentra en estado: <b>{{offerItemList.opportunityStatus.name}}</b></span>
    </div>
    <div class="mt-3">
      <span class="">A que estado desea cambiar la oferta:</span>
    </div>
    <div class="ui-fluid formgrid grid justify-content-center mt-3">
      <div class="p-fluid field col-12 md:col-7">
        <p-selectButton (onChange)="statusForm.reset()" [options]="optionStatus" optionLabel="name"
          [(ngModel)]="selectedOptionStatus"></p-selectButton>
      </div>
    </div>
    <div class="mt-3">
      <app-option-status [form]="statusForm" [modifyStatus]="modifyStatus" [offer]="offerItemList"
        [selectedOptionStatus]="selectedOptionStatus"></app-option-status>
    </div>
    <div class="flex flex-row justify-content-end gap-2 md:flex-wrap mt-3">
        <p-button (click)="onClose()" styleClass="p-button-outlined p-button-secondary" label="Cancelar"></p-button>
        <p-button (click)="onSave()" [disabled]="statusForm.invalid" label="Guardar"></p-button>
    </div>
    <div class="loadWrapper flex align-items-center flex-column justify-content-center" *ngIf="isLoading">
      <p-progressSpinner></p-progressSpinner>
    </div>
  </p-tabPanel>
  <p-tabPanel header="HistÃ³rico de cambios">
    <p-table [value]="offerChangeStatus">
      <ng-template pTemplate="header">
        <tr>
          <th>Usuario</th>
          <th>Estado</th>
          <th>Fecha</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-offerChangeStatus>
        <tr>
          <td>{{offerChangeStatus.username}}</td>
          <td>{{offerChangeStatus.opportunityStatus.name}}</td>
          <td>{{offerChangeStatus.date | date:'dd/MM/yyyy HH:mm'}}</td>
        </tr>
      </ng-template>
    </p-table>
  </p-tabPanel>
</p-tabView>